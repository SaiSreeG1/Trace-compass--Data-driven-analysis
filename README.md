## Overview
The Interface branch contains the final code used to create an interface for generating XML content based on user prompts. This interface utilizes the GPT-4All language model and prompt engineering techniques like Chain of Thought prompting, and RAG models to process and refine prompts, generate XML content, and provide an interactive user experience through Streamlit.

## Features
## Model Initialization and Reinitialization:
Utilizes the GPT-4All model (mistral-7b-instruct-v0.1.Q4_0).
Provides functionality to reinitialize the model for fresh prompts.

## Loading and Saving Datasets:
Loads XML and prompts mapping from a JSON file (trans_dataset.json).
Saves updated datasets back to the JSON file, ensuring new entries are stored.

## FAISS Index for Prompt Matching:
Uses FAISS and SentenceTransformer to create an index for efficient prompt matching.
Retrieves the closest matching XML content based on user input.

## Prompt Refinement and Intermediate Representation:
Refines user prompts using the LLM with Chain of Thought (CoT) technique.
Generates an Intermediate Representation (IR) from matched XML content.
Converts IR to a detailed text explanation, which is then transformed into an XML fragment.

## Streamlit Interface:
Provides a web-based user interface for entering prompts and generating XML.
Displays the generated XML fragment and offers options for user feedback.
Allows downloading the generated XML file.
Handles new prompts by clearing previous inputs and reinitializing the model.

## Feedback and Dataset Update:
Collects user feedback on the generated XML.
Updates the dataset with new XML fragments generated by the LLM.


## How to Use

## Installation and Setup:
1. Ensure the required libraries are installed: pip install streamlit gpt4all sentence-transformers faiss-cpu xmltodict
2. Place the Interface.py script in your working directory.
3. Ensure the trans_dataset.json file is available in the same directory.

## Running the Interface:
1. Execute the Streamlit script: streamlit run Interface.py

## Using the Interface:
1. Enter Prompt: Enter your prompt in the provided text area.
2. Generate XML: Click the "Generate XML" button to process the prompt and generate XML content.
3. Feedback: Provide feedback on the generated XML by selecting an option and clicking "Done".
4. Download XML: Download the generated XML file by clicking the "Download XML" button.
5. New Prompt: Click the "New Prompt" button to start with a new prompt.

## Code Structure:
load_prompts_xml_mapping(file_path): Loads XML and prompts mapping from a JSON file.
save_updated_dataset(file_path, data): Saves the updated dataset back to the JSON file.
GPT4AllLLM: Custom class for handling interactions with the GPT-4All model.
check_existing_prompt(user_prompt, index, embeddings_model, prompts): Checks if the user prompt exists in the dataset using FAISS.
retrieve_and_augment(user_prompt, index, embeddings_model, documents): Retrieves and augments the closest XML document.
refine_prompt_with_llm(user_prompt, llm, context): Refines the user prompt using the LLM with Chain of Thought.
create_ir_from_xml(xml_content): Creates an Intermediate Representation (IR) from the matched XML content.
generate_text_from_ir(xml_ir, refined_prompt): Generates a detailed text explanation from the IR and refined prompt.
Extract the XML fragment from the textual explanation.
Display the generated XML fragment.
Collect user feedback on the generated XML.
Allow users to download the generated XML.
Reset the interface for new prompts when the "New Prompt" button is clicked.

## Example Usage
1. Enter a Prompt:
Enter a descriptive prompt in the text area provided on the Streamlit interface.
Click "Generate XML" to process the prompt.

2. View Generated XML:
The generated XML fragment will be displayed in a code block.
Review the generated XML for correctness.

3. Provide Feedback:
Select feedback options to indicate if the XML is correct, not correct, or if you are unsure.
Click "Done" to submit feedback.

4. Download XML:
Click "Download XML" to save the generated XML file to your local machine.

5. New Prompt:
Click "New Prompt" to clear the current session and enter a new prompt.
